<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin â€“ Photos</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

<h1>Uploaded Photos</h1>
<div id="gallery"></div>

<script>
const supabase = supabase.createClient(
  "https://oqxutgtjddliuvjhkznw.supabase.co",
  "sb_publishable_otIGk7Vt-cDpWW7rdv7rLQ_CyeS6G-5"
);

async function loadPhotos() {
  const { data, error } = await supabase.storage
    .from("photos")
    .list("", { limit: 100 });

  if (error) {
    console.error(error);
    return;
  }

  const gallery = document.getElementById("gallery");
  gallery.innerHTML = "";

  data.forEach(file => {
    const url = `https://oqxutgtjddliuvjhkznw.supabase.co/storage/v1/object/public/photos/${file.name}`;
    const img = document.createElement("img");
    img.src = url;
    img.style.width = "200px";
    img.style.margin = "10px";
    gallery.appendChild(img);
  });
}

loadPhotos();
</script>

</body>
</html>

