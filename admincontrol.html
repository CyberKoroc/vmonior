<!DOCTYPE html>
<html>
<head>
    <title>Victim Control Panel</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .panel { border: 1px solid #ccc; padding: 20px; margin: 10px 0; border-radius: 5px; background: white; }
        .victim { background: #f0f8ff; margin: 10px 0; padding: 15px; border-radius: 5px; }
        .location { color: #0066cc; font-weight: bold; }
        .error { color: #cc0000; }
        .success { color: #009900; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 3px;
cursor: pointer; }
        button:hover { background: #0056b3; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="panel">
        <h1>Victim Control Panel</h1>
        <p>Monitor all connected victims here</p>
        <button onclick="loadData()">Refresh Data</button>
        <button onclick="clearData()">Clear All Data</button>
        <div id="dataContainer"></div>
    </div>

    <script>
        // Load data from localStorage
        function loadData() {
            const data = JSON.parse(localStorage.getItem('victimData') || '[]');
            const container = document.getElementById('dataContainer');

            if (data.length === 0) {
                container.innerHTML = '<p>No victim data collected yet.</p>';
                return;
            }

            let html = '<h2>Collected Victims</h2>';
            data.forEach((victim, index) => {
                html += `
                    <div class="victim">
                        <h3>Victim #${index + 1}</h3>
                        <p><strong>Timestamp:</strong> ${new Date(victim.timestamp).toLocaleString()}</p>
                        <p><strong>URL:</strong> ${victim.url}</p>
                        <p><strong>Referrer:</strong> ${victim.referrer || 'N/A'}</p>
                        ${victim.location ? `
                            <p><strong>Location:</strong>
                                <span class="location">${victim.location.latitude.toFixed(4)}, ${victim.location.longitude.toFixed(4)}</span>
                                (Accuracy: ${victim.location.accuracy.toFixed(2)}m)
                            </p>
                        ` : ''}
                        <p><strong>Device:</strong> ${victim.device.userAgent.substring(0, 50)}...</p>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Clear all data
        function clearData() {
            localStorage.removeItem('victimData');
            loadData();
        }

        // Load data when page loads
        window.onload = loadData;
    </script>
</body>
</html>